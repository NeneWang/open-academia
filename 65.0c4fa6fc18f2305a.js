"use strict";(self.webpackChunkopen_academia=self.webpackChunkopen_academia||[]).push([[65],{6065:(G,_,a)=>{a.r(_),a.d(_,{CoursesModule:()=>E});var p=a(6814),C=a(1303),b=a(6208),r=a(6223),l=a(7700),e=a(5879),f=a(8509),g=a(2296),x=a(4516),h=a(9157),U=a(8525),y=a(3680),Z=a(181);function A(o,c){if(1&o&&(e.TgZ(0,"mat-option",16),e._uU(1),e.qZA()),2&o){const t=c.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function q(o,c){if(1&o&&(e.TgZ(0,"mat-option",16),e._uU(1),e.qZA()),2&o){const t=c.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function w(o,c){if(1&o&&e._UZ(0,"img",17),2&o){const t=e.oxw();e.Q6J("src",t.courseForm.get("image").value,e.LSH)}}let v=(()=>{class o{constructor(t,n,i,s){this.fb=t,this.academiaServiceService=n,this.matDialogRef=i,this.course=s,this.courseCategories=["Computer Science","Marketing","Artificial Intelligence"],this.intensityOptions=["Low","Medium","High"],s?(console.log("course",s),this.courseForm=this.fb.group({name:[s.name,r.kI.required],description:[s.description,r.kI.required],image:[s.image],category:[s.category,r.kI.required],intensity:[s.intensity,r.kI.required],credits:[s.credits,r.kI.required]})):this.courseForm=this.fb.group({name:["",r.kI.required],description:["",r.kI.required],image:[""],category:[this.courseCategories[0],r.kI.required],intensity:[this.intensityOptions[0],r.kI.required],credits:[0,r.kI.required]})}onSubmit(){console.log("Is valid? this.courseForm",this.courseForm.valid),this.courseForm.valid&&(console.log(this.courseForm.value),this.matDialogRef.close(this.courseForm.value))}get isEditing(){return!!this.course}static#e=this.\u0275fac=function(n){return new(n||o)(e.Y36(r.qu),e.Y36(f.x),e.Y36(l.so),e.Y36(l.WI))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-courses-dialog-component"]],decls:41,vars:4,consts:[["mat-dialog-content",""],[1,"row",3,"formGroup"],[1,"col-12"],[1,"w-100"],["formControlName","name","matInput",""],["formControlName","description","matInput",""],["formControlName","category"],[3,"value",4,"ngFor","ngForOf"],["formControlName","intensity"],["formControlName","credits","type","number","matInput",""],["formControlName","image","matInput",""],["miniRender","","alt","Course Image",3,"src",4,"ngIf"],["mat-dialog-actions","",1,"mat-dialog-actions"],["mat-button","","mat-dialog-close",""],[1,"spacer"],["mat-button","",3,"click"],[3,"value"],["miniRender","","alt","Course Image",3,"src"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"mat-form-field",3)(4,"mat-label"),e._uU(5,"Nombre del Curso"),e.qZA(),e._UZ(6,"input",4),e.qZA()(),e.TgZ(7,"div",2)(8,"mat-form-field",3)(9,"mat-label"),e._uU(10,"Descripci\xf3n"),e.qZA(),e._UZ(11,"textarea",5),e.qZA()(),e.TgZ(12,"div",2)(13,"mat-form-field",3)(14,"mat-label"),e._uU(15,"Categor\xeda"),e.qZA(),e.TgZ(16,"mat-select",6),e.YNc(17,A,2,2,"mat-option",7),e.qZA()()(),e.TgZ(18,"div",2)(19,"mat-form-field",3)(20,"mat-label"),e._uU(21,"Intensidad"),e.qZA(),e.TgZ(22,"mat-select",8),e.YNc(23,q,2,2,"mat-option",7),e.qZA()()(),e.TgZ(24,"div",2)(25,"mat-form-field",3)(26,"mat-label"),e._uU(27,"Cr\xe9ditos"),e.qZA(),e._UZ(28,"input",9),e.qZA()(),e.TgZ(29,"div",2)(30,"mat-form-field",3)(31,"mat-label"),e._uU(32,"Image Url"),e.qZA(),e._UZ(33,"input",10),e.qZA(),e.YNc(34,w,1,1,"img",11),e.qZA()()(),e.TgZ(35,"div",12)(36,"button",13),e._uU(37,"Cancel"),e.qZA(),e._UZ(38,"div",14),e.TgZ(39,"button",15),e.NdJ("click",function(){return i.onSubmit()}),e._uU(40,"Save"),e.qZA()()),2&n&&(e.xp6(1),e.Q6J("formGroup",i.courseForm),e.xp6(16),e.Q6J("ngForOf",i.courseCategories),e.xp6(6),e.Q6J("ngForOf",i.intensityOptions),e.xp6(11),e.Q6J("ngIf",i.courseForm.get("image").value))},dependencies:[p.sg,p.O5,g.lW,r._Y,r.Fj,r.wV,r.JJ,r.JL,r.sg,r.u,x.Nt,h.KE,h.hX,l.ZT,l.xY,l.H8,U.gD,y.ey,Z.U],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}mat-dialog-actions[_ngcontent-%COMP%]{justify-content:space-between}.spacer[_ngcontent-%COMP%]{flex-grow:1}"]})}return o})();var T=a(617),d=a(5313),I=a(1047);function S(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"div",15)(1,"h4"),e._uU(2),e.ALo(3,"username"),e.qZA(),e.TgZ(4,"button",16),e.NdJ("click",function(){const s=e.CHM(t).$implicit,m=e.oxw(3);return e.KtG(m.unenrollUser(s.id))}),e._uU(5," Unenroll "),e.qZA()()}if(2&o){const t=c.$implicit;e.xp6(2),e.Oqu(e.lcZ(3,1,t))}}function N(o,c){if(1&o&&(e.TgZ(0,"div")(1,"h3"),e._uU(2,"Enrolled Users"),e.qZA(),e.TgZ(3,"div",13),e.YNc(4,S,6,3,"div",14),e.qZA()()),2&o){const t=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",t.enrolledUsers)}}function k(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"div",8)(1,"h2",9),e._uU(2),e.qZA(),e._UZ(3,"img",10),e.TgZ(4,"mat-dialog-content")(5,"p")(6,"strong"),e._uU(7,"Description"),e.qZA(),e._uU(8),e.qZA()(),e.YNc(9,N,5,1,"div",11),e.TgZ(10,"mat-dialog-actions")(11,"button",12),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.reset())}),e._uU(12,"Close"),e.qZA()()()}if(2&o){const t=e.oxw();e.xp6(2),e.Oqu(t.selectedCourse.name),e.xp6(1),e.Q6J("src",t.selectedCourse.image,e.LSH),e.xp6(5),e.hij(" ",t.selectedCourse.description,""),e.xp6(1),e.Q6J("ngIf",t.isAnyEnrolledUser())}}function F(o,c){1&o&&(e.TgZ(0,"th",17),e._uU(1,"Nombre"),e.qZA())}function O(o,c){if(1&o&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&o){const t=c.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function D(o,c){1&o&&(e.TgZ(0,"th",17),e._uU(1,"actions"),e.qZA())}function J(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"td",18)(1,"button",19),e.NdJ("click",function(){const s=e.CHM(t).$implicit,m=e.oxw();return e.KtG(m.viewCourseSections(s))}),e.TgZ(2,"mat-icon"),e._uU(3,"visibility"),e.qZA()(),e.TgZ(4,"button",20),e.NdJ("click",function(){const s=e.CHM(t).$implicit,m=e.oxw();return e.KtG(m.deleteCourse.emit(s.id))}),e.TgZ(5,"mat-icon"),e._uU(6,"delete"),e.qZA()(),e.TgZ(7,"button",21),e.NdJ("click",function(){const s=e.CHM(t).$implicit,m=e.oxw();return e.KtG(m.editCourse.emit(s))}),e.TgZ(8,"mat-icon"),e._uU(9,"edit"),e.qZA()()()}}function M(o,c){1&o&&e._UZ(0,"tr",22)}function Y(o,c){1&o&&e._UZ(0,"tr",23)}let H=(()=>{class o{constructor(t){this.academiaserviceService=t,this.enrolledUsers=[],this.dataSource=[{id:1,name:"Algorithms I",description:"This course is an introduction to the design and analysis of algorithms. Topics include asymptotic notation, recurrences and recursion, analysis of algorithms, sorting algorithms, basic data structures, and graph algorithms.",image:"https://i.ibb.co/k4bG2qF/algorithms-1.png",category:"Computer Science",intensity:"High",credits:4}],this.editCourse=new e.vpe,this.deleteCourse=new e.vpe,this.displayedColumns=["name","actions"]}unenrollUser(t){console.log("unenrollUser",t),this.academiaserviceService.deleteUserCourse(t,this.selectedCourse.id),this.enrolledUsers=this.enrolledUsers.filter(n=>n.id!==t)}isAnyEnrolledUser(){return this.enrolledUsers.length>0}viewCourseSections(t){console.log("viewCourseSections",t),this.selectedCourse=t,this.academiaserviceService.getEnrolledUsers$(t.id).subscribe(n=>{this.enrolledUsers=n,console.log("selected user",n)})}reset(){this.selectedCourse=void 0,this.enrolledUsers=[]}static#e=this.\u0275fac=function(n){return new(n||o)(e.Y36(f.x))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-courses-table"]],inputs:{dataSource:"dataSource"},outputs:{editCourse:"editCourse",deleteCourse:"deleteCourse"},decls:10,vars:4,consts:[["class","details-card",4,"ngIf"],["mat-table","",1,"table-section","mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"details-card"],["mat-dialog-title",""],["miniRender","","alt","Course Image",3,"src"],[4,"ngIf"],["mat-button","","color","warn","mat-dialog-close","",3,"click"],[1,"user-container"],["class","user",4,"ngFor","ngForOf"],[1,"user"],["mat-button","","color","warn",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-icon-button","","color","primary",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(n,i){1&n&&(e.YNc(0,k,13,4,"div",0),e.TgZ(1,"table",1),e.ynx(2,2),e.YNc(3,F,2,0,"th",3),e.YNc(4,O,2,1,"td",4),e.BQk(),e.ynx(5,5),e.YNc(6,D,2,0,"th",3),e.YNc(7,J,10,0,"td",4),e.BQk(),e.YNc(8,M,1,0,"tr",6),e.YNc(9,Y,1,0,"tr",7),e.qZA()),2&n&&(e.Q6J("ngIf",i.selectedCourse),e.xp6(1),e.Q6J("dataSource",i.dataSource),e.xp6(7),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns))},dependencies:[p.sg,p.O5,g.lW,g.RK,T.Hw,l.ZT,l.uh,l.xY,l.H8,d.BZ,d.fO,d.as,d.w1,d.Dz,d.nj,d.ge,d.ev,d.XQ,d.Gk,Z.U,I.s],styles:[".user[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:15em;align-items:center;margin:0!important;padding:0!important}.custom-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;padding:20px}.details-card[_ngcontent-%COMP%]{background-color:#fff;border:none;border-radius:10px;max-width:100%;margin:auto;padding:20px 20px 1em;box-shadow:0 2px 8px #0003}.table-section[_ngcontent-%COMP%]{margin-top:2em;margin-bottom:2em}"]})}return o})();const $=function(){return[]};let Q=(()=>{class o{constructor(t,n){this.academiaserviceService=t,this.matDialog=n,this.courses$=this.academiaserviceService.getCourses$()}addCourse(){this.matDialog.open(v,{width:"80%"}).afterClosed().subscribe({next:t=>{t&&(this.courses$=this.academiaserviceService.createCourse$({id:(new Date).getTime(),name:t.name,description:t.description,image:"",category:t.category,intensity:t.intensity,credits:t.credits}))}})}deleteCourse(t){this.courses$=this.academiaserviceService.deleteCourse$(t)}editCourse(t){console.log("course id",t),this.matDialog.open(v,{data:t,width:"80%"}).afterClosed().subscribe({next:n=>{n&&(this.courses$=this.academiaserviceService.updateCourse$(t.id,{id:t.id,name:n.name,description:n.description,image:"",category:n.category,intensity:n.intensity,credits:n.credits}))}})}static#e=this.\u0275fac=function(n){return new(n||o)(e.Y36(f.x),e.Y36(l.uw))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-table"]],decls:5,vars:4,consts:[[1,"button-container"],["mat-raised-button","","color","primary",3,"click"],[3,"dataSource","deleteCourse","editCourse"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"button",1),e.NdJ("click",function(){return i.addCourse()}),e._uU(2,"Create Course"),e.qZA()(),e.TgZ(3,"app-courses-table",2),e.NdJ("deleteCourse",function(m){return i.deleteCourse(m)})("editCourse",function(m){return i.editCourse(m)}),e.ALo(4,"async"),e.qZA()),2&n&&(e.xp6(3),e.Q6J("dataSource",e.lcZ(4,1,i.courses$)||e.DdM(3,$)))},dependencies:[g.lW,H,p.Ov],styles:[".button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-bottom:16px}.button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:12px 24px;font-size:16px}"]})}return o})();var u=a(5195);const P=[{path:"table",component:Q,title:"Courses"},{path:"",component:(()=>{class o{static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-index"]],decls:29,vars:0,consts:[[1,"card-container"],[1,"card"],["mat-card-avatar",""],["mat-raised-button","","color","primary","routerLink","/admin/users/table"],["mat-raised-button","","color","primary","routerLink","/admin/courses/table"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-icon",2),e._uU(4,"people"),e.qZA(),e.TgZ(5,"mat-card-title"),e._uU(6,"User Administration"),e.qZA(),e.TgZ(7,"mat-card-subtitle"),e._uU(8,"Manage all user accounts"),e.qZA()(),e.TgZ(9,"mat-card-content")(10,"p"),e._uU(11,"Here you can manage all user accounts, roles, and permissions as well as create new Users."),e.qZA()(),e.TgZ(12,"mat-card-actions")(13,"button",3),e._uU(14,"Go to User Admin"),e.qZA()()(),e.TgZ(15,"mat-card",1)(16,"mat-card-header")(17,"mat-icon",2),e._uU(18,"school"),e.qZA(),e.TgZ(19,"mat-card-title"),e._uU(20,"Course Administration"),e.qZA(),e.TgZ(21,"mat-card-subtitle"),e._uU(22,"Manage all Courses"),e.qZA()(),e.TgZ(23,"mat-card-content")(24,"p"),e._uU(25,"Here you can create new courses, delete and manage all courses details."),e.qZA()(),e.TgZ(26,"mat-card-actions")(27,"button",4),e._uU(28,"Go to Student Admin"),e.qZA()()()())},dependencies:[g.lW,T.Hw,u.a8,u.hq,u.kc,u.dn,u.dk,u.$j,u.n5,C.rH],styles:[".card-container[_ngcontent-%COMP%]{display:flex;gap:16px}.card[_ngcontent-%COMP%]{width:300px}"]})}return o})(),title:"Courses"}];let E=(()=>{class o{static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275mod=e.oAB({type:o});static#o=this.\u0275inj=e.cJS({imports:[p.ez,b.m,C.Bz.forChild(P),l.Is,C.Bz]})}return o})()}}]);